var dominate=function(e,a){a=a||document;return dominate.wrap_list(U.args(a.querySelectorAll(e)))};dominate.all=dominate;dominate.one=function(e,a){return dominate.utils.is_node(e)?dominate.wrap(e):"string"===typeof e?(a=a||document,dominate.wrap(a.querySelector(e))):null};
(function(e){var a=e.utils={is_node:function(a){try{return a instanceof Node}catch(b){return a&&a.nodeType}},foreach:function(a,b,c){var c=c||null,g;if(a instanceof Array)for(var d=0;d<a.length;d++){if(g=b.call(c,a[d],d),void 0!==g)return g}else for(d in a)if(a.hasOwnProperty(d)&&(g=b.call(c,a[d],d),void 0!==g))return g},map:function(f,b,c){var c=c||null,g;g=f instanceof Array?[]:{};a.foreach(f,function(d,a){g[a]=b.call(c,d,a)});return g},filter:function(f,b,c){var c=c||null,b=b||function(d){return!!d},
g;f instanceof Array?(g=[],a.foreach(f,function(d,a){b.call(c,d,a)&&g.push(d)})):(g={},a.foreach(f,function(d,a){b.call(c,d,a)&&(g[a]=d)}));return g},remove:function(f,b,c){c=c||null;return a.filter(f,function(a,d){return!b.call(c,a,d)})},mix:function(f,b,c){a.foreach(b,function(a,d){if(c||!f.hasOwnProperty(d))f[d]=a});return f},dict:function(f,b){var c={};a.foreach(f,function(a,d){c[a]=d&&b&&b[d]});return c},args:function(a,b){return Array.prototype.slice.call(a,b||0)},json:function(a){return"string"===
typeof a?JSON.parse(a):JSON.stringify(a)},values:function(f){var b=[];a.foreach(f,function(a){b.push(a)});return b},keys:function(f){var b=[];a.foreach(f,function(a,g){b.push(g)});return b}};a.json.parse=JSON.parse;a.json.stringify=JSON.stringify})(dominate);
(function(e){var a=e.utils,f=function(a,c,g){var g=g||" ",d=Math.max(0,Math.abs(c)-a.length),g=Array(d+1).join(g);return 0>c?g+a:a+g};e.utils.format=function(b){named_args={};pos_args=[];a.foreach(a.args(arguments,1),function(b){"string"==typeof b||"number"===typeof b?pos_args.push(b):"object"==typeof b&&a.mix(named_args,b,!0)});return b.replace(/%(\((\w+)\))?(-?(\d*)(\.(\d+))?)?([sdf])/gi,function(a,b,d,e,h,i,j,k){b=h&&"0"===h.charAt(0);h=(h||0)-0;j=(j||0)-0;d=d?named_args[d]:pos_args.shift();switch(k){case "s":return f(""+
d,h);case "d":d=""+Math.floor(d-0);case "f":return d=(d-0).toFixed(j),f(d,-h,b&&"0");default:return a}})}})(dominate);
(function(e){var a=e.utils;e.utils.listen=function(f,b){f.subscribe(function(b){var g=a.args(arguments,1),d=this[b];d&&d.apply(this,g)},b)};e.utils.event=function(){var f=[],b=function(){var b=a.args(arguments);a.foreach(f,function(a){var d=a.args.concat(b);a.callback.apply(a.context,d)})};b.subscribe=function(b,g){f.push({callback:b,context:g,args:a.args(arguments,2)})};b.unsubscribe=function(b,g){f=a.remove(f,function(a){return a.callback==b&&a.context==g})};b.len=function(){return f.length};return b}})(dominate);
(function(e){var a=e.utils,f=e.html={empty:function(a){a.innerHTML=""},add:function(a){for(var c=1;c<arguments.length;c++){var g=arguments[c];g instanceof e.wrapper?a.appendChild(g.dom):a.appendChild(g)}},css:function(b){a.foreach(a.args(arguments,1),function(c){a.foreach(c,function(a,d){b.style[d.replace(/(?:-|_)(.)/g,function(a,b){return b.toUpperCase()})]=a})})},get_classes:function(a){a=a.className;return""===a?[]:a.split(/\s+/)},add_class:function(b){var c=a.dict(f.get_classes(b));a.mix(c,a.dict(a.args(arguments,
1)));b.className=a.keys(c).join(" ")},remove_class:function(b){var c=a.dict(f.get_classes(b));a.foreach(a.args(arguments,1),function(a){delete c[a]});b.className=a.keys(c).join(" ")},toggle_class:function(b){var c=a.dict(f.get_classes(b));a.foreach(a.args(arguments,1),function(a){c.hasOwnProperty(a)?delete c[a]:c[a]=!0});b.className=a.keys(c).join(" ")},has_class:function(b){var c=a.dict(f.get_classes(b));return a.filter(a.args(arguments,1),function(a){return c.hasOwnProperty(a)}).length===arguments.length-
1},"class":function(b){b.className=a.args(arguments,1).join(" ")},update:function(b){for(var c=b,g=1;g<arguments.length;g++){var d=arguments[g],e,h;if(a.is_node(d))b.appendChild(d);else if("string"===typeof d||"number"===typeof d)b.appendChild(document.createTextNode(d));else if(d instanceof Array)for(e=0;e<d.length;e++)f.update(b,d[e]);else if("function"===typeof d)if(d.hasOwnProperty("dom")&&a.is_node(d.dom))b.appendChild(d.dom);else if("binding"===d.name)e=document.createTextNode(d()),d.register(function(a){this.nodeValue=
a},e),b.appendChild(e);else throw"Not a DOM node";else for(h in"object"===typeof d&&d.hasOwnProperty("context")&&(c=d.context),d)if(d.hasOwnProperty(h)){var i=d[h];if("context"!==h)if("class"===h||"cls"===h)i&&(e=i.split(/\s+/),e=a.filter(e.concat(b.className.split(/\s+/))),b.className=e.join(" "));else if("style"===h)f.css(b,i);else if(/^on/.test(h)){e=h.slice(2);var j=i,k=[],l=c,m=!1;"function"!==typeof i&&(j=i.func,k=i.args||k,l=i.context||l,m=i.capture||m);i=l!==b;if(0!==k.length)var o=j,j=function(){o.apply(l,
k.concat(a.args(arguments)))};else i&&(o=j,j=function(){o.apply(l,arguments)});b.addEventListener(e,j,m)}else b.setAttribute(h,i)}}}}})(dominate);
(function(e){var a=e.tag_names="a address article aside audio blockquote br button canvas caption code col colgroup dd div dl dt em fieldset figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr img input label legend li link main math nav ol optgroup option output p pre progress script section select small source span strong style sub sup table tbody td textarea tfoot th thead time tr ul video".split(" "),f=e.html,b=e.utils,c=e.tags={};c.text=function(a){return document.createTextNode(""+a)};c.create_tag=
function(a){c[a]=function(){var d=document.createElement(a);f.update.apply(this,[d].concat(b.args(arguments)));return d}};b.foreach(a,c.create_tag)})(dominate);
(function(e){var a=e.utils,f=e.io={xhr:function(a,c,g,d,e){var e=e||null,f=new XMLHttpRequest;f.open(a,c,!0);f.addEventListener("readystatechange",function(a){4===f.readyState&&d.call(e,f.responseText,f,a)});f.send(g)},get:function(a,c,e){f.xhr("GET",a,null,c,e)},post:function(a,c,e,d){f.xhr("POST",a,c,e,d)},form:function(b){var c=new FormData;a.foreach(b,function(a,d){c.append(d,a)});return c}}})(dominate);
(function(e){var a=e.utils;e.bind=function(e){var b=[],c=function(c,d){if(e instanceof Array){if(0===arguments.length)return e;if(1===arguments.length)return e[c];e[c]=d}else{if(0===arguments.length)return e;e=c}a.foreach(b,function(a){a.func.call(a.context,e,c,d)})};c.register=function(a,d){b.push({func:a,context:d})};c.unregister=function(c){b=a.remove(b,function(a){return a.func===c&&a.context===context})};return c}})(dominate);
(function(e){var a=e.utils,f=e.html,b="onkeydown onkeypress onkeyup onhelp onmousedown onmousemove onmouseup onmouseout onclick ondblclick onfocus onblur onabort onerror onchange onload onselect onsubmit".split(" "),c=e.wrapper=function(a){this.dom=a},g=e.wrap=function(d){return!a.is_node(d)?null:new c(d)};a.mix(c.prototype,a.map(e.tags,function(d,b){return function(){var d=document.createElement(b),e=a.args(arguments);e.unshift(d);f.update.apply(null,e);this.dom.appendChild(d);return new c(d)}}));
a.mix(c.prototype,a.map(e.html,function(d){return function(){var b=a.args(arguments);b.unshift(this.dom);b=d.apply(null,b);return void 0===b?this:a.is_node(b)?g(b):b}}));c.prototype.on=function(a,b,e,f){var j=this.dom,f=f||!1,k=function(c){var m=e||g(this);!1===b.call(m,c,k)&&j.removeEventListener(a,k,f)};j.addEventListener(a,k,f);return c};a.foreach(b,function(a){c.prototype[a]=function(b,c,e){return this.on(a.slice(2),b,c,e)}});c.prototype.all=function(a){return e.all(a,this.dom)};c.prototype.one=
function(a){return e.one(a,this.dom)};e.wrap_list=function n(c){c.on=function(b,e,f,l){l=l||!1;a.foreach(c,function(a){var c=function(h){var n=f||g(this);!1===e.call(n,h,c)&&a.removeEventListener(b,c,l)};a.addEventListener(b,c,l)});return c};c.foreach=function(b,e){a.foreach(c,function(a,c){b.call(e,g(a),c)})};a.mix(c,a.map(e.tags,function(b){return function(){var e=a.args(arguments);return n(a.map(c,function(a){var c=b.apply(null,e);a.appendChild(c);return c}))}}));a.mix(c,a.map(e.html,function(b){return function(){var e=
a.args(arguments),f=a.map(c,function(a){var c=e.slice();c.unshift(a);return b.apply(this,c)});return 0!==a.filter(f).length?f:c}}));a.foreach(b,function(a){c[a]=function(b,e,f){return c.on(a.slice(2),b,e,f)}});return c}})(dominate);(function(){window.D=dominate;window.U=dominate.utils;window.H=dominate.html;window.I=dominate.io;window.all=dominate;window.one=dominate.one;U.mix(window,dominate.tags)})(dominate);
